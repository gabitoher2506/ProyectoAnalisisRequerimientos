{% extends 'base.html' %}

{% block title %}Cálculo de Nómina{% endblock %}

{% block content %}
    <h1>Cálculo de Nómina</h1>
    <button type="button" class="btn btn-primary" onclick="calcularNomina()">Calcular Nómina</button>

    <div id="mensajeExito" class="alert alert-success mt-3" style="display: none;">
        Cálculo de nómina realizado exitosamente.
    </div>
    <a id="descargarPDF" href="#" class="btn btn-orange" style="display: none;">Descargar PDF</a>

    <script>
        function calcularNomina() {

            document.getElementById('mensajeExito').style.display = 'block';


            document.getElementById('descargarPDF').style.display = 'block';
        }


        document.getElementById('descargarPDF').addEventListener('click', function(event) {
            event.preventDefault(); 

            var pdfContent = `
                <html>
                <head><title>Reporte de Nómina</title></head>
                <body>
                    <h1>Reporte de Nómina</h1>
                    <p>Test</p>
                </body>
                </html>
            `;
            var blob = new Blob([pdfContent], { type: 'application/pdf' });
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = 'nomina.pdf';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        });
    </script>
{% endblock %}
